---
title: 向量搜索概述
summary: 介绍 TiDB 向量搜索功能。TiDB 向量搜索可以对文档、图像、音频和视频等各种数据类型进行语义搜索。
---

# 向量搜索概述

TiDB 向量搜索 (beta) 提供了在多种数据类型之间进行语义搜索的高级搜索方案，可以对文档、图像、音频、视频等不同数据类型进行语义上的相似度搜索。TiDB 向量搜索以 MySQL 兼容的 SQL 语法提供，熟悉 MySQL 的开发人员可轻松地基于此构建例如生成式人工智能 (GAI) 应用。


## 概念

向量搜索是一种优先考虑数据含义以提供相关结果的搜索方法。相比于传统的全文搜索主要依赖于精确的关键词匹配和词频，向量搜索通过将数据（如文本、图像或音频）转换为高维向量，并利用这些向量的相似度进行查询。这种方法能够捕捉数据的语义特征和上下文信息，从而更准确地理解用户意图，即使搜索词语并不完全匹配数据库中的内容。

例如，全文搜索 “一种会游泳的动物” 只会返回包含这些精确关键词的结果。相比之下，向量搜索可以返回其他游泳动物的结果，如鱼或鸭子，即使没有准确的关键字。

### 向量嵌入

向量嵌入 (vector embedding) 又称嵌入 (embedding) ，是在高维空间中表示现实世界对象的数字序列。它可以捕捉文档、图像、音频和视频等非结构化数据的语义特征和上下文。

向量嵌入在机器学习中至关重要，是语义相似性搜索的基础。

TiDB 引入了[向量数据类型](/vector-search-data-types.md)，旨在优化向量嵌入的存储和检索，增强其在人工智能领域的应用。 你可以在 TiDB 中存储向量嵌入，并使用这些数据类型执行向量搜索查询以查找最相关的数据。

### 嵌入模型

嵌入模型是将数据转换为[向量嵌入](#向量嵌入)的算法。

选择合适的嵌入模型对于确保语义搜索结果的准确性和相关性至关重要。对于非结构化文本数据，你可以在 [Massive Text Embedding Benchmark (MTEB) Leaderboard](https://huggingface.co/spaces/mteb/leaderboard) 上找到性能最佳的文本嵌入模型。

如果你想要了解如何为特定数据类型生成向量嵌入，请参阅嵌入模型的教程或示例。

## 向量搜索如何工作

在将原始数据转换为向量并存储在 TiDB 中后，你的应用程序就可以开始执行向量搜索查询，找到与用户查询语义或上下文最相关的数据。

TiDB 向量搜索 (Vector Search) 通过使用 [距离函数](/vector-search-functions-and-operators.md) 来计算给定向量与数据库中存储的向量之间的距离，从而识别前 k 个近邻（KNN）向量。与给定向量的距离最小的向量代表最相似的数据。

![The Schematic TiDB Vector Search](/media/vector-search/embedding-search.png)

TiDB 是一个支持向量搜索的关系数据库，这意味着你可以在同一个数据库里存储数据和它们的向量表示 (向量嵌入) 。你可以选择把数据和它们的向量放在同一个表里的不同列中，也可以把它们放在不同的表里。在需要搜索的时候，再用 JOIN 查询把这些表的数据组合起来使用。



## 使用案例

### 检索增强生成 (Retrieval-Augmented Generation, RAG)

检索增强生成（RAG）是一种优化大型语言模型（LLM）输出的架构。通过使用向量搜索，RAG 应用程序可以在数据库中存储向量嵌入，并在 LLM 生成回复时检索相关文档作为附加上下文，从而提高回复的质量和相关性。

### 语义搜索

语义搜索是一种根据查询的含义而不是简单地匹配关键词来返回结果的搜索技术。它通过嵌入来解释不同语言和各种类型数据（如文本、图像和音频）的含义。然后，向量搜索算法会使用这些嵌入来查找满足用户查询的最相关数据。

### 推荐引擎

推荐引擎是一种主动向用户推荐相关和个性化内容、产品或服务的系统。它通过创建代表用户行为和偏好的嵌入来实现这一目标。这些嵌入有助于系统识别其他用户曾与之互动或感兴趣的类似项目。这就增加了推荐与用户相关并吸引用户的可能性。

## 另请参阅

要开始使用 TiDB 向量搜索，请参阅以下文档：

- [使用 Python 开始向量搜索](/vector-search-get-started-using-python.md)
- [使用 SQL 开始向量搜索](/vector-search-get-started-using-sql.md)